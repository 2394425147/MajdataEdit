<Window x:Class="MajdataEdit.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MajdataEdit"
        mc:Ignorable="d"
        Title="MainWindow" Height="508" Width="919" ResizeMode="NoResize" Loaded="Window_Loaded" Closing="Window_Closing">


    <Grid Margin="0" Background="#FF1F1F1F">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="437*"/>
            <ColumnDefinition Width="476*"/>
        </Grid.ColumnDefinitions>

        <Menu Height="19" VerticalAlignment="Top" Grid.ColumnSpan="2">
            <MenuItem Header="文件">
                <MenuItem x:Name="Menu_Open" Header="打开" Click="Menu_Open_Click" IsEnabled="False"/>
                <MenuItem x:Name="Menu_Save" Header="保存" Click="Menu_Save_Click"/>
                <MenuItem x:Name="Menu_SaveAs" Header="另存为" Click="Menu_SaveAs_Click" IsEnabled="False"/>
            </MenuItem>
            <MenuItem Header="编辑">
                <MenuItem Header="一般谱面信息" Click="MenuItem_InfomationEdit_Click"/>
            </MenuItem>
            <MenuItem Header="SimaiWiki" Click="MenuItem_SimaiWiki_Click"/>
            <MenuItem Header="GitHub" Click="GitHub_Click"/>
        </Menu>
        <Image x:Name="MusicWave" Source="Image/QQ图片20210701170841.png" Stretch="Fill" Height="74" VerticalAlignment="Bottom" Grid.Column="1" Margin="0,0,-401,0" HorizontalAlignment="Left" Width="877" MouseWheel="MusicWave_MouseWheel">

        </Image>
        <Line StrokeThickness="3" Margin="0,0,357,0" Y2="56" Grid.Column="1" Height="74" VerticalAlignment="Bottom" Stroke="Red" Y1="15"/>
        <Image Grid.Column="1" Margin="501,33,-86,0" Source="Image/Tap_01.png" Stretch="Fill" RenderTransformOrigin="0.542,-1.771" HorizontalAlignment="Left" Width="61" Height="61" VerticalAlignment="Top"/>
        <Image Grid.Column="1" Margin="501,94,-86,0" Source="Image/Star_01.png" Stretch="Fill" HorizontalAlignment="Left" Width="61" Height="59" VerticalAlignment="Top"/>
        <Image Grid.Column="1" Margin="501,153,-128,0" Source="Image/Hold_01.png" Stretch="Fill" Height="99" VerticalAlignment="Top"/>
        <Grid HorizontalAlignment="Left" Height="336" Margin="40,37,0,0" VerticalAlignment="Top" Width="336">
            <Image Source="Image/Outline_03.png" Stretch="Fill"/>
            <Label Content="A1" HorizontalAlignment="Left" Height="30" Margin="206,21,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A4" HorizontalAlignment="Left" Height="32" Margin="206,281,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A5" HorizontalAlignment="Left" Height="32" Margin="92,281,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A8" HorizontalAlignment="Left" Height="30" Margin="92,21,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A7" HorizontalAlignment="Left" Height="32" Margin="21,95,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A2" HorizontalAlignment="Left" Height="32" Margin="277,95,0,0" VerticalAlignment="Top" Width="38" Foreground="White" FontSize="20" FontWeight="Bold" RenderTransformOrigin="0.421,-0.094"/>
            <Label Content="A6" HorizontalAlignment="Left" Height="32" Margin="21,205,0,0" VerticalAlignment="Top" Width="37" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="A3" HorizontalAlignment="Left" Height="32" Margin="277,205,0,0" VerticalAlignment="Top" Width="38" Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Label Content="E1" HorizontalAlignment="Left" Height="32" Margin="155,45,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E2" HorizontalAlignment="Left" Height="30" Margin="233,77,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E3" HorizontalAlignment="Left" Height="30" Margin="266,155,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E4" HorizontalAlignment="Left" Height="30" Margin="233,231,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E5" HorizontalAlignment="Left" Height="32" Margin="155,263,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E8" HorizontalAlignment="Left" Height="30" Margin="79,77,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E6" HorizontalAlignment="Left" Height="30" Margin="79,231,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="E7" HorizontalAlignment="Left" Height="30" Margin="46,155,0,0" VerticalAlignment="Top" Width="32" Foreground="White" FontSize="14" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B1" HorizontalAlignment="Left" Height="30" Margin="184,81,0,0" VerticalAlignment="Top" Width="30" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B2" HorizontalAlignment="Left" Height="32" Margin="225,123,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B3" HorizontalAlignment="Left" Height="32" Margin="225,181,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B4" HorizontalAlignment="Left" Height="32" Margin="184,223,0,0" VerticalAlignment="Top" Width="30" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B8" HorizontalAlignment="Left" Height="30" Margin="124,81,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B5" HorizontalAlignment="Left" Height="32" Margin="124,223,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B7" HorizontalAlignment="Left" Height="32" Margin="81,123,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="B6" HorizontalAlignment="Left" Height="32" Margin="81,181,0,0" VerticalAlignment="Top" Width="31" Foreground="White" FontSize="16" Opacity="0.5">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="C" HorizontalAlignment="Left" Height="44" Margin="145,145,0,0" VerticalAlignment="Top" Width="45" Foreground="White" FontSize="14" Opacity="0.5" FontWeight="Bold" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D1" HorizontalAlignment="Left" Height="30" Margin="157,5,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D5" HorizontalAlignment="Left" Height="30" Margin="157,311,0,-5" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D2" HorizontalAlignment="Left" Height="32" Margin="266,45,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D4" HorizontalAlignment="Left" Height="32" Margin="266,267,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D6" HorizontalAlignment="Left" Height="32" Margin="46,267,0,0" VerticalAlignment="Top" Width="32" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D8" HorizontalAlignment="Left" Height="32" Margin="46,45,0,0" VerticalAlignment="Top" Width="32" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D3" HorizontalAlignment="Left" Height="30" Margin="311,157,-4,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
            <Label Content="D7" HorizontalAlignment="Left" Height="30" Margin="5,157,0,0" VerticalAlignment="Top" Width="29" Foreground="White" FontSize="10" Opacity="0.3">
                <Label.Background>
                    <SolidColorBrush Color="Transparent" Opacity="0.99"/>
                </Label.Background>
            </Label>
        </Grid>
        <Image x:Name="FFTImage" HorizontalAlignment="Right" Margin="0,0,14,92" Width="255" Height="255" VerticalAlignment="Bottom" Grid.Column="1" RenderTransformOrigin="0.5,0.5">
            <Image.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="-90"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Image.RenderTransform>
        </Image>
        <CheckBox x:Name="FollowPlayCheck" Content="文本跟随播放" HorizontalAlignment="Left" Height="21" Margin="329,0,0,130" VerticalAlignment="Bottom" Width="96" Foreground="White" HorizontalContentAlignment="Right" Click="FollowPlayCheck_Click"/>
        <RichTextBox x:Name="FumenContent" Padding="0,5" FontFamily="Consolas" Foreground="#FFE8E8E8" TextChanged="FumenContent_TextChanged" Margin="0,52,10,91" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Visible" SelectionChanged="FumenContent_SelectionChanged" Grid.Column="1">
            <RichTextBox.Resources>
                <RoutedUICommand x:Key="PlayAndPause" Text="PlayAndPause"/>
                <RoutedUICommand x:Key="SaveFile" Text="SaveFile"/>
                <RoutedUICommand x:Key="StopPlaying" Text="StopPlaying"/>
            </RichTextBox.Resources>
            <RichTextBox.Background>
                <SolidColorBrush Color="#FF171717" Opacity="0.3"/>
            </RichTextBox.Background>
            <RichTextBox.InputBindings>
                <KeyBinding Gesture="Ctrl+Shift+c" Command="{StaticResource PlayAndPause}"/>
                <KeyBinding Gesture="Ctrl+s" Command="{StaticResource SaveFile}"/>
                <KeyBinding Gesture="Ctrl+Shift+x" Command="{StaticResource StopPlaying}"/>
            </RichTextBox.InputBindings>
            <RichTextBox.CommandBindings>
                <CommandBinding Command="{StaticResource PlayAndPause}" CanExecute="PlayAndPause_CanExecute"/>
                <CommandBinding Command="{StaticResource SaveFile}" CanExecute="SaveFile_Command_CanExecute"/>
                <CommandBinding Command="{StaticResource StopPlaying}" CanExecute="StopPlaying_CanExecute"/>
            </RichTextBox.CommandBindings>
            <FlowDocument/>
        </RichTextBox>
        <Label x:Name="TimeLabel" Content="0:00" HorizontalAlignment="Right" Height="64" Margin="0,24,2,0" VerticalAlignment="Top" Width="119" Foreground="White" FontFamily="Bahnschrift Light" FontSize="48" HorizontalContentAlignment="Right" VerticalContentAlignment="Bottom"/>
        <ComboBox x:Name="LevelSelector" Margin="0,24,0,0" SelectionChanged="ComboBox_SelectionChanged" HorizontalAlignment="Left" Width="99" Height="21" VerticalAlignment="Top" Grid.Column="1">
            <ComboBoxItem Content="&amp;lv_1"/>
            <ComboBoxItem Content="&amp;lv_2"/>
            <ComboBoxItem Content="&amp;lv_3"/>
            <ComboBoxItem Content="&amp;lv_4"/>
            <ComboBoxItem Content="&amp;lv_5"/>
            <ComboBoxItem Content="&amp;lv_6"/>
            <ComboBoxItem Content="&amp;lv_7"/>
        </ComboBox>
        <CheckBox x:Name="SimaiFirst" Content="为Simai加入0.04s提前" HorizontalAlignment="Left" Margin="283,28,0,0" VerticalAlignment="Top" Foreground="White" IsChecked="True" Grid.Column="1" Height="15" Width="141"/>
        <Button x:Name="WaveViewZoomIn" Content="+" HorizontalAlignment="Left" Height="24" Margin="10,0,0,41" VerticalAlignment="Bottom" Width="24" Click="WaveViewZoomIn_Click"/>
        <Button x:Name="WaveViewZoomOut" Content="-" HorizontalAlignment="Left" Height="24" Margin="10,0,0,10" VerticalAlignment="Bottom" Width="24" Click="WaveViewZoomOut_Click"/>
        <Label Content="难度" Grid.Column="1" HorizontalAlignment="Left" Height="25" Margin="122,22,0,0" VerticalAlignment="Top" Width="33" Foreground="White"/>
        <TextBox x:Name="LevelTextBox" Grid.Column="1" HorizontalAlignment="Left" Height="21" Margin="160,24,0,0" TextWrapping="Wrap" Text="12+" VerticalAlignment="Top" Width="98" VerticalContentAlignment="Center" TextChanged="LevelTextBox_TextChanged"/>
        <Button x:Name="PlayAndPauseButton" Content="▶" HorizontalAlignment="Left" Margin="387,0,0,92" Width="38" Click="PlayAndPauseButton_Click" Height="38" VerticalAlignment="Bottom"/>
        <Button x:Name="StopButton" Content="◼" HorizontalAlignment="Left" Height="38" Margin="338,0,0,92" VerticalAlignment="Bottom" Width="38" Click="StopButton_Click"/>
        <Label x:Name="NoteNowText" Content="" HorizontalAlignment="Right" Margin="0,0,12,177" VerticalAlignment="Bottom" Foreground="White" Width="87" HorizontalContentAlignment="Right"/>
        <Button x:Name="Export_Button" Content="E" Grid.Column="1" Height="28" Margin="0,21,10,0" VerticalAlignment="Top" RenderTransformOrigin="1.1,0.25" HorizontalAlignment="Right" Width="30" Click="Export_Button_Click"/>
    </Grid>
</Window>
